# 使用前请先生成 SSH 密钥对并替换为 base64 内容，然后重命名为 ssh-secret.yaml
#
# 生成密钥（无密码，供 mndiag 免密 SSH）：
#   mkdir -p ./ssh_keys && ssh-keygen -t rsa -b 4096 -f ./ssh_keys/id_rsa -N ""
#
# 生成 Secret 的 data 字段：
#   kubectl create secret generic dcgm-mndiag-ssh \
#     --namespace=dcgm-mndiag \
#     --from-file=id_rsa=./ssh_keys/id_rsa \
#     --from-file=id_rsa.pub=./ssh_keys/id_rsa.pub \
#     --dry-run=client -o yaml
#
# 或手动 base64 后填入下面（注意 base64 -w 0 避免换行）：
#   id_rsa:    $(base64 -w 0 ./ssh_keys/id_rsa)
#   id_rsa.pub: $(base64 -w 0 ./ssh_keys/id_rsa.pub)
---
apiVersion: v1
kind: Secret
metadata:
  name: dcgm-mndiag-ssh
  namespace: dcgm-mndiag
type: Opaque
data:
  # 替换为你的 base64 编码的 id_rsa 和 id_rsa.pub
  id_rsa: ""      # base64 -w 0 ssh_keys/id_rsa
  id_rsa.pub: ""  # base64 -w 0 ssh_keys/id_rsa.pub
